--- strace-4.2/linux/alpha/syscallent.h.jj	Thu Nov 18 18:26:46 1999
+++ strace-4.2/linux/alpha/syscallent.h	Thu Aug  3 21:56:47 2000
@@ -103,7 +103,7 @@
 	{ 5,	0,	printargs,		"SYS_72"	}, /* 72 */
 	{ 2,	0,	sys_munmap,		"munmap"	}, /* 73 */
 	{ 3,	0,	sys_mprotect,		"mprotect"	}, /* 74 */
-	{ 0,	0,	printargs,		"madvise"	}, /* 75 */
+	{ 3,	0,	sys_madvise,		"madvise"	}, /* 75 */
 	{ 0,	0,	sys_vhangup,		"vhangup"	}, /* 76 */
 	{ 5,	0,	printargs,		"SYS_77"	}, /* 77 */
 	{ 5,	0,	printargs,		"SYS_78"	}, /* 78 */
@@ -400,3 +400,9 @@
 	{ 2,	0,	sys_capget,		"capget"	}, /* 368 */
 	{ 2,	0,	sys_capset,		"capset"	}, /* 369 */
 	{ 4,	TF,	sys_sendfile,		"sendfile"	}, /* 370 */
+	{ 3,	0,	sys_setresgid,		"setresgid"	}, /* 371 */
+	{ 3,	0,	sys_getresgid,		"getresgid"	}, /* 372 */
+	{ 5,	0,	printargs,		"dipc"		}, /* 373 */
+	{ 2,	TF,	sys_pivot_root,		"pivot_root"	}, /* 374 */
+	{ 3,	0,	sys_mincore,		"mincore"	}, /* 375 */
+	{ 3,	0,	printargs,		"pciconfig_iobase"}, /* 376 */
--- strace-4.2/linux/sparc/syscall.h.jj	Thu Aug  3 13:12:32 2000
+++ strace-4.2/linux/sparc/syscall.h	Thu Aug  3 15:48:43 2000
@@ -42,6 +42,13 @@ int	sys_getpgrp(),sys_setpgrp();
 int	sys_setsid(), sys_setpgid();
 int	sys_uname(), sys_sysinfo();
 
+/* 32bit uids */
+int sys_getuid32(), sys_getgid32(), sys_geteuid32(), sys_getegid32();
+int sys_setreuid32(), sys_setregid32(), sys_getgroups32(), sys_setgroups32();
+int sys_fchown(), sys_setresuid32(), sys_getresuid32(), sys_setresgid32();
+int sys_getresgid32(), sys_chown(), sys_setuid32(), sys_setgid32();
+int sys_setfsuid32(), sys_setfsgid32();
+
 /* 1.2 memory management */
 int	sys_brk(),sys_sbrk(),sys_sstk();
 int	sys_getpagesize(),sys_mmap(),sys_mctl(),sys_munmap(),sys_mprotect(),sys_mincore(), sys_mremap();
--- strace-4.2/linux/sparc/syscallent.h.jj	Thu Aug  3 13:12:32 2000
+++ strace-4.2/linux/sparc/syscallent.h	Thu Aug  3 21:57:20 2000
@@ -29,11 +29,11 @@
 	{ 2,	TS,	sys_sigaltstack,"sigaltstack" },	/* 28 */
 	{ 0,	TS,	sys_pause,	"pause" },		/* 29 */
 	{ 2,	TF,	sys_utime,	"utime" },		/* 30 */
-	{ 2,	0,	sys_stty,	"stty" },		/* 31 */
-	{ 2,	0,	sys_gtty,	"gtty" },		/* 32 */
+	{ 3,	TF,	sys_lchown,	"lchown32" },		/* 31 */
+	{ 3,	0,	sys_fchown,	"fchown32" },		/* 32 */
 	{ 2,	TF,	sys_access,	"access" },		/* 33 */
 	{ 1,	0,	sys_nice,	"nice" },		/* 34 */
-	{ 1,	0,	sys_ftime,	"ftime" },		/* 35 */
+	{ 3,	TF,	sys_chown,	"chown32" },		/* 35 */
 	{ 0,	0,	sys_sync,	"sync" },		/* 36 */
 	{ 2,	TS,	sys_kill,	"kill" },		/* 37 */
 	{ 2,	TF,	sys_stat,	"stat" },		/* 38 */
@@ -42,7 +42,7 @@
 	{ 2,	0,	sys_dup,	"dup" },		/* 41 */
 	{ 0,	0,	sys_pipe,	"pipe" },		/* 42 */
 	{ 1,	0,	sys_times,	"times" },		/* 43 */
-	{ 4,	0,	sys_profil,	"profil" },		/* 44 */
+	{ 0,	0,	sys_getuid32,	"getuid32" },		/* 44 */
 	{ 2,	TF,	sys_umount2,	"umount" },		/* 45 */
 	{ 1,	0,	sys_setgid,	"setgid" },		/* 46 */
 	{ 0,	0,	sys_getgid,	"getgid" },		/* 47 */
@@ -51,48 +51,48 @@
 	{ 0,	0,	sys_getegid,	"getegid" },		/* 50 */
 	{ 1,	0,	sys_acct,	"acct" },		/* 51 */
 	{ 0,	0,	printargs,	"SYS_52" },		/* 52 */
-	{ 4,	0,	sys_mctl,	"mctl" },		/* 53 */
+	{ 0,	0,	sys_getgid32,	"getgid32" },		/* 53 */
 	{ 3,	0,	sys_ioctl,	"ioctl" },		/* 54 */
 	{ 2,	0,	sys_reboot,	"reboot" },		/* 55 */
-	{ 3,	0,	printargs,	"SYS_56" },		/* 56 */
+	{ 6,	0,	sys_mmap,	"mmap2" },		/* 56 */
 	{ 2,	TF,	sys_symlink,	"symlink" },		/* 57 */
 	{ 3,	TF,	sys_readlink,	"readlink" },		/* 58 */
 	{ 3,	TF|TP,	sys_execve,	"execve" },		/* 59 */
 	{ 1,	0,	sys_umask,	"umask" },		/* 60 */
 	{ 1,	TF,	sys_chroot,	"chroot" },		/* 61 */
 	{ 2,	0,	sys_fstat,	"fstat" },		/* 62 */
-	{ 0,	0,	printargs,	"SYS_63" },		/* 63 */
+	{ 2,	0,	sys_fstat64,	"fstat64" },		/* 63 */
 	{ 1,	0,	sys_getpagesize,"getpagesize" },	/* 64 */
 	{ 3,	0,	sys_msync,	"msync" },		/* 65 */
 	{ 0,	TP,	sys_vfork,	"vfork" },		/* 66 */
 	{ 5,	TF,	sys_pread,	"pread" },		/* 67 */
 	{ 5,	TF,	sys_pwrite,	"pwrite" },		/* 68 */
-	{ 1,    0,	sys_sbrk,	"sbrk" },		/* 69 */
-	{ 1,	0,	printargs,	"sstk" },		/* 70 */
+	{ 0,    0,	sys_geteuid32,	"geteuid32" },		/* 69 */
+	{ 0,	0,	sys_getegid32,	"getegid32" },		/* 70 */
 	{ 6,	0,	sys_mmap,	"mmap" },		/* 71 */
-	{ 1,	0,	printargs,	"vadvise" },		/* 72 */
+	{ 2,	0,	sys_setreuid32,	"setreuid32" },		/* 72 */
 	{ 2,	0,	sys_munmap,	"munmap" },		/* 73 */
 	{ 3,	0,	sys_mprotect,	"mprotect" },		/* 74 */
-	{ 3,	0,	printargs,	"madvise" },		/* 75 */
+	{ 3,	0,	sys_madvise,	"madvise" },		/* 75 */
 	{ 1,	0,	sys_vhangup,	"vhangup" },		/* 76 */
-	{ 2,	0,	printargs,	"SYS_77" },		/* 77 */
-	{ 3,   0,	sys_mincore,	"mincore" },		/* 78 */
+	{ 2,	TF,	sys_truncate64,	"truncate64" },		/* 77 */
+	{ 3,	0,	sys_mincore,	"mincore" },		/* 78 */
 	{ 2,	0,	sys_getgroups,	"getgroups" },		/* 79 */
 	{ 2,	0,	sys_setgroups,	"setgroups" },		/* 80 */
 	{ 1,	0,	sys_getpgrp,	"getpgrp" },		/* 81 */
-	{ 2,	0,	sys_setpgrp,	"setpgrp" },		/* 82 */
+	{ 2,	0,	sys_setgroups32,"setgroups32" },	/* 82 */
 	{ 3,	0,	sys_setitimer,	"setitimer" },		/* 83 */
-	{ 0,	0,	printargs,	"SYS_84" },		/* 84 */
+	{ 2,	0,	sys_ftruncate64,"ftruncate64" },	/* 84 */
 	{ 1,	TF,	sys_swapon,	"swapon" },		/* 85 */
 	{ 2,	0,	sys_getitimer,	"getitimer" },		/* 86 */
-	{ 2,	0,	sys_gethostname,"gethostname" },	/* 87 */
-	{ 2,	0,	sys_sethostname,"sethostname" },	 /* 88 */
-	{ 0,	0,	sys_getdtablesize,"getdtablesize" },	 /* 89 */
+	{ 1,	0,	sys_setuid32,	"setuid32" },		/* 87 */
+	{ 2,	0,	sys_sethostname,"sethostname" },	/* 88 */
+	{ 1,	0,	sys_setgid32,	"setgid32" },		/* 89 */
 	{ 2,	0,	sys_dup2,	"dup2" },		/* 90 */
-	{ 2,	0,	printargs,	"getdopt" },		/* 91 */
+	{ 1,	0,	sys_setfsuid32,	"setfsuid32" },		/* 91 */
 	{ 3,	0,	sys_fcntl,	"fcntl" },		/* 92 */
 	{ 5,	0,	sys_oldselect,	"select" },		/* 93 */
-	{ 2,	0,	printargs,	"setdopt" },		/* 94 */
+	{ 1,	0,	sys_setfsgid32,	"setfsgid32" },		/* 94 */
 	{ 1,	0,	sys_fsync,	"fsync" },		/* 95 */
 	{ 3,	0,	sys_setpriority,"setpriority" },	/* 96 */
 	{ 3,	TN,	sys_socket,	"socket" },		/* 97 */
@@ -106,14 +106,14 @@
 	{ 4,	TS,	sys_rt_sigtimedwait,"rt_sigtimedwait" },/* 105 */
 	{ 3,	TS,	sys_rt_sigqueueinfo,"rt_sigqueueinfo" },/* 106 */
 	{ 2,	TS,	sys_rt_sigsuspend,"rt_sigsuspend" },	/* 107 */
-	{ 3,	TS,	printargs,	"sigvec" },		/* 108 */
-	{ 1,    TS,	sys_sigblock,	"sigblock" },		/* 109 */
-	{ 1,	TS,	sys_sigsetmask,	"sigsetmask" },		/* 110 */
-	{ 1,	TS,	printargs,	"sigpause" },		/* 111 */
+	{ 3,	0,	sys_setresuid32,"setresuid32" },	/* 108 */
+	{ 3,    0,	sys_getresuid32,"getresuid32" },	/* 109 */
+	{ 3,	0,	sys_setresgid32,"setresgid32" },	/* 110 */
+	{ 3,	0,	sys_getresgid32,"getresgid32" },	/* 111 */
 	{ 2,	TS,	printargs,	"sigstack" },		/* 112 */
 	{ 3,	TN,	sys_recvmsg,	"recvmsg" },		/* 113 */
 	{ 3,	TN,	sys_sendmsg,	"sendmsg" },		/* 114 */
-	{ 3,	0,	printargs,	"vtrace" },		/* 115 */
+	{ 3,	0,	sys_getgroups32,"getgroups32" },	/* 115 */
 	{ 2,	0,	sys_gettimeofday,"gettimeofday" },	/* 116 */
 	{ 2,	0,	sys_getrusage,	"getrusage" },		/* 117 */
 	{ 5,	TN,	sys_getsockopt,	"getsockopt" },		/* 118 */
@@ -130,21 +130,21 @@
 	{ 2,	TF,	sys_truncate,	"truncate" },		/* 129 */
 	{ 2,	0,	sys_ftruncate,	"ftruncate" },		/* 130 */
 	{ 2,	0,	sys_flock,	"flock" },		/* 131 */
-	{ 0,	0,	printargs,	"SYS_132" },		/* 132 */
+	{ 2,	TF,	sys_lstat64,	"lstat64" },		/* 132 */
 	{ 6,	TN,	sys_sendto,	"sendto" },		/* 133 */
 	{ 2,	TN,	sys_shutdown,	"shutdown" },		/* 134 */
 	{ 5,	TN,	sys_socketpair,	"socketpair" },		/* 135 */
 	{ 2,	TF,	sys_mkdir,	"mkdir" },		/* 136 */
 	{ 1,	TF,	sys_rmdir,	"rmdir" },		/* 137 */
 	{ 2,	TF,	sys_utimes,	"utimes" },		/* 138 */
-	{ 0,	TS,	printargs,	"SYS_139" },		/* 139 */
+	{ 2,	TS,	sys_stat64,	"stat64" },		/* 139 */
 	{ 2,   0,	sys_adjtime,	"adjtime" },		/* 140 */
 	{ 3,	TN,	sys_getpeername,"getpeername" },	/* 141 */
 	{ 2,   0,	sys_gethostid,	"gethostid" },		/* 142 */
 	{ 0,	0,	printargs,	"SYS_143" },		/* 143 */
 	{ 2,	0,	sys_getrlimit,	"getrlimit" },		/* 144 */
 	{ 2,	0,	sys_setrlimit,	"setrlimit" },		/* 145 */
-	{ 2,	TS,	sys_killpg,	"killpg" },		/* 146 */
+	{ 2,	TF,	sys_pivot_root,	"pivot_root" },		/* 146 */
 	{ 5,	0,	printargs,	"prctl" },		/* 147 */
 	{ 5,	0,	printargs,	"pciconfig_read" },	/* 148 */
 	{ 5,	0,	printargs,	"pciconfig_write" },	/* 149 */
--- strace-4.2/linux/syscallent.h.jj	Fri Dec 24 09:00:37 1999
+++ strace-4.2/linux/syscallent.h	Thu Aug  3 21:50:51 2000
@@ -233,8 +233,8 @@
 	{ 2,	0,	sys_capset,		"capset"	}, /* 185 */
 	{ 2,	TS,	sys_sigaltstack,	"sigaltstack"	}, /* 186 */
 	{ 4,	TF,	sys_sendfile,		"sendfile"	}, /* 187 */
-	{ 5,	0,	printargs,		"SYS_188"	}, /* 188 */
-	{ 5,	0,	printargs,		"SYS_189"	}, /* 189 */
+	{ 5,	0,	printargs,		"getpmsg"	}, /* 188 */
+	{ 5,	0,	printargs,		"putpmsg"	}, /* 189 */
 	{ 0,	TP,	sys_vfork,		"vfork"		}, /* 190 */
 	{ 5,	0,	printargs,		"getrlimit"	}, /* 191 */
 	{ 6,	0,	sys_mmap,		"mmap2"		}, /* 192 */
@@ -243,58 +243,99 @@
 	{ 2,	TF,	sys_stat64,		"stat64"	}, /* 195 */
 	{ 2,	TF,	sys_lstat64,		"lstat64"	}, /* 196 */
 	{ 2,	TF,	sys_fstat64,		"fstat64"	}, /* 197 */
-	{ 5,	0,	printargs,		"SYS_198"	}, /* 198 */
-	{ 5,	0,	printargs,		"SYS_199"	}, /* 199 */
+	{ 3,	TF,	sys_chown,		"lchown32"	}, /* 198 */
+	{ 0,	0,	sys_getuid32,		"getuid32"	}, /* 199 */
+	{ 0,	0,	sys_getgid32,		"getgid32"	}, /* 200 */
+	{ 0,	0,	sys_geteuid32,		"geteuid32"	}, /* 201 */
+	{ 0,	0,	sys_getegid32,		"getegid32"	}, /* 202 */
+	{ 2,	0,	sys_setreuid32,		"setreuid32"	}, /* 203 */
+	{ 2,	0,	sys_setregid32,		"setregid32"	}, /* 204 */
+	{ 2,	0,	sys_getgroups32,	"getgroups32"	}, /* 205 */
+	{ 2,	0,	sys_setgroups32,	"setgroups32"	}, /* 206 */
+	{ 3,	0,	sys_fchown,		"fchown32"	}, /* 207 */
+	{ 3,	0,	sys_setresuid32,	"setresuid32"	}, /* 208 */
+	{ 3,	0,	sys_getresuid32,	"getresuid32"	}, /* 209 */
+	{ 3,	0,	sys_setresgid32,	"setresgid32"	}, /* 210 */
+	{ 3,	0,	sys_getresgid32,	"getresgid32"	}, /* 211 */
+	{ 3,	TF,	sys_chown,		"chown32"	}, /* 212 */
+	{ 1,	0,	sys_setuid32,		"setuid32"	}, /* 213 */
+	{ 1,	0,	sys_setgid32,		"setgid32"	}, /* 214 */
+	{ 1,	0,	sys_setfsuid32,		"setfsuid32"	}, /* 215 */
+	{ 1,	0,	sys_setfsgid32,		"setfsgid32"	}, /* 216 */
+	{ 2,	TF,	sys_pivot_root,		"pivot_root"	}, /* 217 */
+	{ 3,	0,	sys_mincore,		"mincore"	}, /* 218 */
+	{ 3,	0,	sys_madvise,		"madvise"	}, /* 219 */
 
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 200 */
-	{ 4,	TI,	sys_semop,		"semop"		}, /* 201 */
-	{ 4,	TI,	sys_semget,		"semget"	}, /* 202 */
-	{ 4,	TI,	sys_semctl,		"semctl"	}, /* 203 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 204 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 205 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 206 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 207 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 208 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 209 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 210 */
-	{ 4,	TI,	sys_msgsnd,		"msgsnd"	}, /* 211 */
-	{ 4,	TI,	sys_msgrcv,		"msgrcv"	}, /* 212 */
-	{ 4,	TI,	sys_msgget,		"msgget"	}, /* 213 */
-	{ 4,	TI,	sys_msgctl,		"msgctl"	}, /* 214 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 215 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 216 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 217 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 218 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 219 */
-	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 220 */
-	{ 4,	TI,	sys_shmat,		"shmat"		}, /* 221 */
-	{ 4,	TI,	sys_shmdt,		"shmdt"		}, /* 222 */
-	{ 4,	TI,	sys_shmget,		"shmget"	}, /* 223 */
-	{ 4,	TI,	sys_shmctl,		"shmctl"	}, /* 224 */
+	{ 5,	0,	printargs,		"SYS_220"	}, /* 220 */
+	{ 5,	0,	printargs,		"SYS_221"	}, /* 221 */
+	{ 5,	0,	printargs,		"SYS_222"	}, /* 222 */
+	{ 5,	0,	printargs,		"SYS_223"	}, /* 223 */
+	{ 5,	0,	printargs,		"SYS_224"	}, /* 224 */
 	{ 5,	0,	printargs,		"SYS_225"	}, /* 225 */
 	{ 5,	0,	printargs,		"SYS_226"	}, /* 226 */
 	{ 5,	0,	printargs,		"SYS_227"	}, /* 227 */
 	{ 5,	0,	printargs,		"SYS_228"	}, /* 228 */
 	{ 5,	0,	printargs,		"SYS_229"	}, /* 229 */
+	{ 5,	0,	printargs,		"SYS_230"	}, /* 230 */
+	{ 5,	0,	printargs,		"SYS_231"	}, /* 231 */
+	{ 5,	0,	printargs,		"SYS_232"	}, /* 232 */
+	{ 5,	0,	printargs,		"SYS_233"	}, /* 233 */
+	{ 5,	0,	printargs,		"SYS_234"	}, /* 234 */
+	{ 5,	0,	printargs,		"SYS_235"	}, /* 235 */
+	{ 5,	0,	printargs,		"SYS_236"	}, /* 236 */
+	{ 5,	0,	printargs,		"SYS_237"	}, /* 237 */
+	{ 5,	0,	printargs,		"SYS_238"	}, /* 238 */
+	{ 5,	0,	printargs,		"SYS_239"	}, /* 239 */
 
-	{ 8,	0,	printargs,		"socket_subcall"}, /* 230 */
-	{ 3,	TN,	sys_socket,		"socket"	}, /* 231 */
-	{ 3,	TN,	sys_bind,		"bind"		}, /* 232 */
-	{ 3,	TN,	sys_connect,		"connect"	}, /* 233 */
-	{ 2,	TN,	sys_listen,		"listen"	}, /* 234 */
-	{ 3,	TN,	sys_accept,		"accept"	}, /* 235 */
-	{ 3,	TN,	sys_getsockname,	"getsockname"	}, /* 236 */
-	{ 3,	TN,	sys_getpeername,	"getpeername"	}, /* 237 */
-	{ 4,	TN,	sys_socketpair,		"socketpair"	}, /* 238 */
-	{ 4,	TN,	sys_send,		"send"		}, /* 239 */
-	{ 4,	TN,	sys_recv,		"recv"		}, /* 240 */
-	{ 6,	TN,	sys_sendto,		"sendto"	}, /* 241 */
-	{ 6,	TN,	sys_recvfrom,		"recvfrom"	}, /* 242 */
-	{ 2,	TN,	sys_shutdown,		"shutdown"	}, /* 243 */
-	{ 5,	TN,	sys_setsockopt,		"setsockopt"	}, /* 244 */
-	{ 5,	TN,	sys_getsockopt,		"getsockopt"	}, /* 245 */
-	{ 5,	TN,	sys_sendmsg,		"sendmsg"	}, /* 246 */
-	{ 5,	TN,	sys_recvmsg,		"recvmsg"	}, /* 247 */
-	{ 5,	0,	printargs,		"SYS_248"	}, /* 248 */
-	{ 5,	0,	printargs,		"SYS_249"	}, /* 249 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 240 */
+	{ 4,	TI,	sys_semop,		"semop"		}, /* 241 */
+	{ 4,	TI,	sys_semget,		"semget"	}, /* 242 */
+	{ 4,	TI,	sys_semctl,		"semctl"	}, /* 243 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 244 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 245 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 246 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 247 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 248 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 249 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 250 */
+	{ 4,	TI,	sys_msgsnd,		"msgsnd"	}, /* 251 */
+	{ 4,	TI,	sys_msgrcv,		"msgrcv"	}, /* 252 */
+	{ 4,	TI,	sys_msgget,		"msgget"	}, /* 253 */
+	{ 4,	TI,	sys_msgctl,		"msgctl"	}, /* 254 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 255 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 256 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 257 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 258 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 259 */
+	{ 4,	0,	printargs,		"ipc_subcall"	}, /* 260 */
+	{ 4,	TI,	sys_shmat,		"shmat"		}, /* 261 */
+	{ 4,	TI,	sys_shmdt,		"shmdt"		}, /* 262 */
+	{ 4,	TI,	sys_shmget,		"shmget"	}, /* 263 */
+	{ 4,	TI,	sys_shmctl,		"shmctl"	}, /* 264 */
+	{ 5,	0,	printargs,		"SYS_265"	}, /* 265 */
+	{ 5,	0,	printargs,		"SYS_266"	}, /* 266 */
+	{ 5,	0,	printargs,		"SYS_267"	}, /* 267 */
+	{ 5,	0,	printargs,		"SYS_268"	}, /* 268 */
+	{ 5,	0,	printargs,		"SYS_269"	}, /* 269 */
+
+	{ 8,	0,	printargs,		"socket_subcall"}, /* 270 */
+	{ 3,	TN,	sys_socket,		"socket"	}, /* 271 */
+	{ 3,	TN,	sys_bind,		"bind"		}, /* 272 */
+	{ 3,	TN,	sys_connect,		"connect"	}, /* 273 */
+	{ 2,	TN,	sys_listen,		"listen"	}, /* 274 */
+	{ 3,	TN,	sys_accept,		"accept"	}, /* 275 */
+	{ 3,	TN,	sys_getsockname,	"getsockname"	}, /* 276 */
+	{ 3,	TN,	sys_getpeername,	"getpeername"	}, /* 277 */
+	{ 4,	TN,	sys_socketpair,		"socketpair"	}, /* 278 */
+	{ 4,	TN,	sys_send,		"send"		}, /* 279 */
+	{ 4,	TN,	sys_recv,		"recv"		}, /* 280 */
+	{ 6,	TN,	sys_sendto,		"sendto"	}, /* 281 */
+	{ 6,	TN,	sys_recvfrom,		"recvfrom"	}, /* 282 */
+	{ 2,	TN,	sys_shutdown,		"shutdown"	}, /* 283 */
+	{ 5,	TN,	sys_setsockopt,		"setsockopt"	}, /* 284 */
+	{ 5,	TN,	sys_getsockopt,		"getsockopt"	}, /* 285 */
+	{ 5,	TN,	sys_sendmsg,		"sendmsg"	}, /* 286 */
+	{ 5,	TN,	sys_recvmsg,		"recvmsg"	}, /* 287 */
+	{ 5,	0,	printargs,		"SYS_288"	}, /* 288 */
+	{ 5,	0,	printargs,		"SYS_289"	}, /* 289 */
 
--- strace-4.2/linux/syscall.h.jj	Thu Aug  3 13:12:32 2000
+++ strace-4.2/linux/syscall.h	Thu Aug  3 21:50:17 2000
@@ -37,6 +37,7 @@ int sys_open(), sys_close(), sys_waitpid
 int sys_unlink(), sys_execve(), sys_chdir(), sys_time(), sys_mknod();
 int sys_chmod(), sys_chown(), sys_break(), sys_oldstat();
 int sys_lseek(), sys_getpid(), sys_mount(), sys_umount(), sys_umount2();
+int sys_pivot_root();
 int sys_setuid(), sys_getuid(), sys_stime(), sys_ptrace();
 int sys_alarm(), sys_oldfstat(), sys_pause(), sys_utime();
 int sys_stty(), sys_gtty(), sys_access(), sys_nice(), sys_ftime();
@@ -84,6 +85,12 @@ int sys_rt_sigtimedwait(), sys_prctl(), 
 int sys_sendfile(), sys_old_mmap(), sys_stat64(), sys_lstat64(), sys_fstat64();
 int sys_truncate64(), sys_ftruncate64();
 
+/* 32bit uids */
+int sys_getuid32(), sys_getgid32(), sys_geteuid32(), sys_getegid32();
+int sys_setreuid32(), sys_setregid32(), sys_getgroups32(), sys_setgroups32();
+int sys_fchown(), sys_setresuid32(), sys_getresuid32(), sys_setresgid32();
+int sys_getresgid32(), sys_chown(), sys_setuid32(), sys_setgid32();
+int sys_setfsuid32(), sys_setfsgid32();
 
 /* sys_socketcall subcalls */
 
@@ -113,7 +120,7 @@ int sys_osf_utimes();
 #ifdef POWERPC
 #  define SYS_socket_subcall	256
 #else
-#  define SYS_socket_subcall	230
+#  define SYS_socket_subcall	270
 #endif
 #define SYS_socket		(SYS_socket_subcall + 1)
 #define SYS_bind		(SYS_socket_subcall + 2)
@@ -146,7 +153,7 @@ int sys_shmat(), sys_shmdt(), sys_shmget
 #ifdef POWERPC
 #  define SYS_ipc_subcall		((SYS_socket_subcall)+(SYS_socket_nsubcalls))
 #else
-#  define SYS_ipc_subcall		200
+#  define SYS_ipc_subcall		240
 #endif
 #define SYS_semop		(SYS_ipc_subcall + 1)
 #define SYS_semget		(SYS_ipc_subcall + 2)
@@ -168,8 +175,10 @@ int sys_getpagesize();
 #endif
 
 #ifdef ALPHA
-int osf_statfs(), osf_fstatfs(), sys_madvise();
+int osf_statfs(), osf_fstatfs();
 #endif
+
+int sys_madvise(), sys_mincore();
 
 #ifdef IA64
 int sys_getpmsg(), sys_putpmsg();	/* STREAMS stuff */
--- strace-4.2/linux/dummy.h.jj	Thu Aug  3 13:12:32 2000
+++ strace-4.2/linux/dummy.h	Thu Aug  3 15:25:50 2000
@@ -81,6 +81,12 @@
 #define	sys_vhangup		printargs
 #define	sys_idle		printargs
 #define	sys_getpgid		printargs
+#define	sys_getuid32		printargs
+#define	sys_getgid32		printargs
+#define	sys_geteuid32		printargs
+#define	sys_getegid32		printargs
+#define	sys_setfsuid32		printargs
+#define	sys_setfsgid32		printargs
 
 /* subcall entry points */
 #define	sys_socketcall		printargs
--- strace-4.2/process.c.jj	Thu Aug  3 13:12:32 2000
+++ strace-4.2/process.c	Thu Aug  3 15:12:05 2000
@@ -682,6 +682,80 @@ struct tcb *tcp;
 	return 0;
 }
 
+int
+sys_setuid32(tcp)
+struct tcb *tcp;
+{
+	if (entering(tcp)) {
+		tprintf("%u", (__kernel_uid32_t) tcp->u_arg[0]);
+	}
+	return 0;
+}
+
+int
+sys_setgid32(tcp)
+struct tcb *tcp;
+{
+	if (entering(tcp)) {
+		tprintf("%u", (__kernel_gid32_t) tcp->u_arg[0]);
+	}
+	return 0;
+}
+
+int
+sys_getresuid32(tcp)
+    struct tcb *tcp;
+{
+	if (exiting(tcp)) {
+		__kernel_uid32_t uid;
+		if (syserror(tcp))
+			tprintf("%#lx, %#lx, %#lx", tcp->u_arg[0],
+				tcp->u_arg[1], tcp->u_arg[2]);
+		else {
+			if (umove(tcp, tcp->u_arg[0], &uid) < 0)
+				tprintf("%#lx, ", tcp->u_arg[0]);
+			else
+				tprintf("ruid %lu, ", (unsigned long) uid);
+			if (umove(tcp, tcp->u_arg[0], &uid) < 0)
+				tprintf("%#lx, ", tcp->u_arg[0]);
+			else
+				tprintf("euid %lu, ", (unsigned long) uid);
+			if (umove(tcp, tcp->u_arg[0], &uid) < 0)
+				tprintf("%#lx", tcp->u_arg[0]);
+			else
+				tprintf("suid %lu", (unsigned long) uid);
+		}
+	}
+	return 0;
+}
+
+int
+sys_getresgid32(tcp)
+struct tcb *tcp;
+{
+	if (exiting(tcp)) {
+		__kernel_gid32_t gid;
+		if (syserror(tcp))
+			tprintf("%#lx, %#lx, %#lx", tcp->u_arg[0],
+				tcp->u_arg[1], tcp->u_arg[2]);
+		else {
+			if (umove(tcp, tcp->u_arg[0], &gid) < 0)
+				tprintf("%#lx, ", tcp->u_arg[0]);
+			else
+				tprintf("rgid %lu, ", (unsigned long) gid);
+			if (umove(tcp, tcp->u_arg[0], &gid) < 0)
+				tprintf("%#lx, ", tcp->u_arg[0]);
+			else
+				tprintf("egid %lu, ", (unsigned long) gid);
+			if (umove(tcp, tcp->u_arg[0], &gid) < 0)
+				tprintf("%#lx", tcp->u_arg[0]);
+			else
+				tprintf("sgid %lu", (unsigned long) gid);
+		}
+	}
+	return 0;
+}
+
 #endif /* LINUX */
 
 int
@@ -710,6 +784,30 @@ struct tcb *tcp;
 
 #ifdef LINUX
 int
+sys_setreuid32(tcp)
+struct tcb *tcp;
+{
+	if (entering(tcp)) {
+		tprintf("%lu, %lu",
+			(unsigned long) (__kernel_uid32_t) tcp->u_arg[0],
+			(unsigned long) (__kernel_uid32_t) tcp->u_arg[1]);
+	}
+	return 0;
+}
+
+int
+sys_setregid32(tcp)
+struct tcb *tcp;
+{
+	if (entering(tcp)) {
+		tprintf("%lu, %lu",
+			(unsigned long) (__kernel_gid32_t) tcp->u_arg[0],
+			(unsigned long) (__kernel_gid32_t) tcp->u_arg[1]);
+	}
+	return 0;
+}
+
+int
 sys_setresuid(tcp)
      struct tcb *tcp;
 {
@@ -727,9 +825,35 @@ sys_setresgid(tcp)
 {
 	if (entering(tcp)) {
 		tprintf("rgid %u, egid %u, sgid %u",
-				(uid_t) tcp->u_arg[0],
-				(uid_t) tcp->u_arg[1],
-				(uid_t) tcp->u_arg[2]);
+				(gid_t) tcp->u_arg[0],
+				(gid_t) tcp->u_arg[1],
+				(gid_t) tcp->u_arg[2]);
+	}
+	return 0;
+}
+
+int
+sys_setresuid32(tcp)
+     struct tcb *tcp;
+{
+	if (entering(tcp)) {
+		tprintf("ruid %u, euid %u, suid %u",
+				(__kernel_uid32_t) tcp->u_arg[0],
+				(__kernel_uid32_t) tcp->u_arg[1],
+				(__kernel_uid32_t) tcp->u_arg[2]);
+	}
+	return 0;
+}
+
+int
+sys_setresgid32(tcp)
+     struct tcb *tcp;
+{
+	if (entering(tcp)) {
+		tprintf("rgid %u, egid %u, sgid %u",
+				(__kernel_gid32_t) tcp->u_arg[0],
+				(__kernel_gid32_t) tcp->u_arg[1],
+				(__kernel_gid32_t) tcp->u_arg[2]);
 	}
 	return 0;
 }
@@ -811,6 +935,84 @@ struct tcb *tcp;
 	}
 	return 0;
 }
+
+#ifdef LINUX
+int
+sys_setgroups32(tcp)
+struct tcb *tcp;
+{
+	int i, len;
+	__kernel_gid32_t *gidset;
+
+	if (entering(tcp)) {
+		len = tcp->u_arg[0];
+		tprintf("%u, ", len);
+		if (len <= 0) {
+			tprintf("[]");
+			return 0;
+		}
+		gidset = (__kernel_gid32_t *) malloc(len * sizeof(GETGROUPS_T));
+		if (gidset == NULL) {
+			fprintf(stderr, "sys_setgroups: out of memory\n");
+			return -1;
+		}
+		if (!verbose(tcp))
+			tprintf("%#lx", tcp->u_arg[1]);
+		else if (umoven(tcp, tcp->u_arg[1],
+		    len * sizeof(__kernel_gid32_t), (char *) gidset) < 0)
+			tprintf("[?]");
+		else {
+			tprintf("[");
+			for (i = 0; i < len; i++)
+				tprintf("%s%lu", i ? ", " : "",
+					(unsigned long) gidset[i]);
+			tprintf("]");
+		}
+		free((char *) gidset);
+	}
+	return 0;
+}
+
+int
+sys_getgroups32(tcp)
+struct tcb *tcp;
+{
+	int i, len;
+	__kernel_gid32_t *gidset;
+
+	if (entering(tcp)) {
+		len = tcp->u_arg[0];
+		tprintf("%u, ", len);
+	} else {
+		len = tcp->u_rval;
+		if (len <= 0) {
+			tprintf("[]");
+			return 0;
+		}
+		gidset = (__kernel_gid32_t *) malloc(len * sizeof(GETGROUPS_T));
+		if (gidset == NULL) {
+			fprintf(stderr, "sys_getgroups: out of memory\n");
+			return -1;
+		}
+		if (!tcp->u_arg[1])
+			tprintf("NULL");
+		else if (!verbose(tcp) || tcp->u_arg[0] == 0)
+			tprintf("%#lx", tcp->u_arg[1]);
+		else if (umoven(tcp, tcp->u_arg[1],
+		    len * sizeof(GETGROUPS_T), (char *) gidset) < 0)
+			tprintf("[?]");
+		else {
+			tprintf("[");
+			for (i = 0; i < len; i++)
+				tprintf("%s%lu", i ? ", " : "",
+					(unsigned long) gidset[i]);
+			tprintf("]");
+		}
+		free((char *)gidset);
+	}
+	return 0;
+}
+#endif
 
 int
 sys_setpgrp(tcp)
--- strace-4.2/file.c.jj	Thu Aug  3 13:12:32 2000
+++ strace-4.2/file.c	Thu Aug  3 21:18:08 2000
@@ -1292,6 +1292,20 @@ struct tcb *tcp;
 	return 0;
 }
 
+#ifdef linux
+int
+sys_pivot_root(tcp)
+struct tcb *tcp;
+{
+	if (entering(tcp)) {
+		printpath(tcp, tcp->u_arg[0]);
+		tprintf(", ");
+		printpath(tcp, tcp->u_arg[1]);
+	}
+	return 0;
+}
+#endif
+
 int
 sys_link(tcp)
 struct tcb *tcp;
--- strace-4.2/mem.c.jj	Thu Aug  3 13:12:32 2000
+++ strace-4.2/mem.c	Thu Aug  3 22:05:30 2000
@@ -363,6 +363,36 @@ struct tcb *tcp;
 	return 0;
 }
 
+#ifdef LINUX
+static struct xlat madv_trans[] = {
+	{ MADV_NORMAL,		"MADV_NORMAL"	},
+	{ MADV_RANDOM,		"MADV_RANDOM"	},
+	{ MADV_SEQUENTIAL,	"MADV_SEQUENTIAL" },
+	{ MADV_WILLNEED,	"MADV_WILLNEED"	},
+	{ MADV_DONTNEED,	"MADV_DONTNEED"	},
+#ifdef MADV_SPACEAVAIL
+	{ MADV_SPACEAVAIL,	"MADV_SPACEAVAIL" },
+#endif
+#ifdef MADV_FREE
+	{ MADV_FREE,		"MADV_FREE" 	},
+#endif
+	{ 0,			NULL		},
+};
+
+int
+sys_madvise(tcp)
+struct tcb *tcp;
+{
+	char *cmd;
+
+	if (entering(tcp)) {
+		cmd = xlookup (madv_trans, tcp->u_arg[2]);
+		tprintf("%#lx, %lu, %s", tcp->u_arg[0], tcp->u_arg[1], cmd ? cmd : "MADV_???");
+	}
+	return 0;
+}
+#endif
+
 int
 sys_getpagesize(tcp)
 struct tcb *tcp;
